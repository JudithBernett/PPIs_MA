levels=c("SPRINT",
"deepPPI_FC", "deepPPI_LSTM",
"DeepFE", "PIPR", "RF_PCA","SVM_PCA", "RF_MDS", "SVM_MDS",
"RF_node2vec",  "SVM_node2vec"))]
View(all_results)
all_results <- all_results[, Dataset := factor(Dataset,
levels = c("huang", "guo", "du", "pan", "richoux-regular", "richoux-strict"))]
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Test, group=Test))+
geom_line(size=1, alpha=0.7)+
geom_point(size=3)+
facet_wrap(~Model)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))
ggsave("./original_vs_rewired.png",height=8, width=10)
all_results <- rbind(all_results, partition_results)
all_results[, Test := factor(Test, levels=c('Original', 'Rewired', 'both->0', 'both->1', '0->1'))]
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Test, group=Test))+
geom_line(size=1, alpha=0.7)+
geom_point(size=2)+
facet_wrap(~Model)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))+
scale_color_manual(values = brewer.pal(5,"Set2")[c(2,3,1,5,4)])
ggsave("./original_vs_rewired_vs_partitions.png",height=8, width=10)
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Model, group=Model))+
geom_line(size=1, alpha=0.7)+
geom_point(size=2)+
facet_wrap(~Test)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))+
scale_color_manual(values = brewer.pal(12,"Paired")[-11])
ggsave("./original_vs_rewired_vs_partitions_models.png",height=8, width=10)
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6), rep("Rewired", 6), rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12),
filename = './heatmap_results.png',
width=8,
height=5)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12),
#filename = './heatmap_results.png',
#width=8,
#height=5
)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12),
#filename = './heatmap_results.png',
#width=8,
#height=5
)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12))
library(data.table)
library(ggplot2)
library(RColorBrewer)
library(pheatmap)
original_results <- fread('results/original.csv')
original_results$Test <- 'Original'
rewired_results <- fread('results/rewired.csv')
rewired_results$Test <- 'Rewired'
partition_results <- fread('results/partition.csv')
colnames(partition_results) <- c('Model', 'Dataset', 'Accuracy', 'Test')
all_results <- rbind(original_results, rewired_results)
all_results <- all_results[, Model := factor(Model,
levels=c("SPRINT",
"deepPPI_FC", "deepPPI_LSTM",
"DeepFE", "PIPR", "RF_PCA","SVM_PCA", "RF_MDS", "SVM_MDS",
"RF_node2vec",  "SVM_node2vec"))]
all_results <- all_results[, Dataset := factor(Dataset,
levels = c("huang", "guo", "du", "pan", "richoux-regular", "richoux-strict"))]
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Test, group=Test))+
geom_line(size=1, alpha=0.7)+
geom_point(size=3)+
facet_wrap(~Model)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))
ggsave("./original_vs_rewired.png",height=8, width=10)
all_results <- rbind(all_results, partition_results)
all_results[, Test := factor(Test, levels=c('Original', 'Rewired', 'both->0', 'both->1', '0->1'))]
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Test, group=Test))+
geom_line(size=1, alpha=0.7)+
geom_point(size=2)+
facet_wrap(~Model)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))+
scale_color_manual(values = brewer.pal(5,"Set2")[c(2,3,1,5,4)])
ggsave("./original_vs_rewired_vs_partitions.png",height=8, width=10)
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Model, group=Model))+
geom_line(size=1, alpha=0.7)+
geom_point(size=2)+
facet_wrap(~Test)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))+
scale_color_manual(values = brewer.pal(12,"Paired")[-11])
ggsave("./original_vs_rewired_vs_partitions_models.png",height=8, width=10)
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6), rep("Rewired", 6), rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
filename = './heatmap_results.png',
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12))
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = TRUE,
cluster_cols = TRUE)
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12))
rownames(result_mat)
annotation_col
annotation_col[order(Test, Dataset)]
annotation_col[order(annotation_col$Test, annotation_col$Dataset)]
annotation_col[order(annotation_col$Test, annotation_col$Dataset)]
annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
annotation_col <- annotation_col[order(Test, Dataset)]
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12))
result_mat
result_mat[, rownames(annotation_col)]
View(annotation_col)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
annotation_col <- annotation_col[order(Test, Dataset)]
View(annotation_col)
annotation_col[order(Test, Dataset)]
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
View(annotation_col)
result_mat[, rownames(annotation_col)]
View(annotation_col)
View(result_mat)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
View(annotation_col)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
View(annotation_col)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
View(annotation_col)
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
View(annotation_col)
result_mat[, rownames(annotation_col)]
result_mat <- result_mat[, rownames(annotation_col)]
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12))
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(5,10,15,21))
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
annotation_col
annotation_col$Dataset <- factor(annotation_col$Dataset, levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux_regular', 'richoux_strict'))
annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
annotation_col
result_mat <- result_mat[, rownames(annotation_col)]
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(5,10,15,21))
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12,17,22))
View(all_results)
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("0->1", "both->0", "both->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
result_mat <- result_mat[, rownames(annotation_col)]
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12,17,22))
library(data.table)
library(ggplot2)
library(RColorBrewer)
library(pheatmap)
original_results <- fread('results/original.csv')
original_results$Test <- 'Original'
rewired_results <- fread('results/rewired.csv')
rewired_results$Test <- 'Rewired'
partition_results <- fread('results/partition.csv')
colnames(partition_results) <- c('Model', 'Dataset', 'Accuracy', 'Test')
all_results <- rbind(original_results, rewired_results)
all_results <- all_results[, Model := factor(Model,
levels=c("SPRINT",
"deepPPI_FC", "deepPPI_LSTM",
"DeepFE", "PIPR", "RF_PCA","SVM_PCA", "RF_MDS", "SVM_MDS",
"RF_node2vec",  "SVM_node2vec"))]
all_results <- all_results[, Dataset := factor(Dataset,
levels = c("huang", "guo", "du", "pan", "richoux-regular", "richoux-strict"))]
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Test, group=Test))+
geom_line(size=1, alpha=0.7)+
geom_point(size=3)+
facet_wrap(~Model)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))
ggsave("./original_vs_rewired.png",height=8, width=10)
all_results <- rbind(all_results, partition_results)
all_results[, Test := factor(Test, levels=c('Original', 'Rewired', 'both->0', 'both->1', '0->1'))]
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Test, group=Test))+
geom_line(size=1, alpha=0.7)+
geom_point(size=2)+
facet_wrap(~Model)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))+
scale_color_manual(values = brewer.pal(5,"Set2")[c(2,3,1,5,4)])
ggsave("./original_vs_rewired_vs_partitions.png",height=8, width=10)
ggplot(all_results, aes(x=Dataset, y = Accuracy, color=Model, group=Model))+
geom_line(size=1, alpha=0.7)+
geom_point(size=2)+
facet_wrap(~Test)+
theme_bw()+
theme(text = element_text(size=20),axis.text.x = element_text(angle = 45, vjust = 0.5, hjust=0.5))+
scale_x_discrete(labels=c("huang" = "Huang", "guo" = "Guo",
"du" = "Du","pan" = "Pan", "richoux-regular" = "Richoux regular",
"richoux-strict" = "Richoux strict"))+
scale_color_manual(values = brewer.pal(12,"Paired")[-11])
ggsave("./original_vs_rewired_vs_partitions_models.png",height=8, width=10)
View(all_results)
all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL]
View(all_results)
all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL]
all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL]
print(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
all_results[, setNames(as.list(Accuracy), Dataset), by = Model]
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
result_mat
rownames(result_mat) <- unique(all_results$Model)
result_mat
View(all_results)
result_mat <- as.matrix(all_results[, setNames(as.list(Accuracy), Dataset), by = Model][, Model := NULL])
rownames(result_mat) <- unique(all_results$Model)
annotation_col <- data.frame(Dataset = colnames(result_mat),
Test = c(rep("Original", 6),
rep("Rewired", 6),
rep(c("both->0", "both->1", "0->1"), 5)))
colnames(result_mat) <- paste(annotation_col$Dataset, annotation_col$Test, sep="_")
rownames(annotation_col) <- colnames(result_mat)
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
result_mat <- result_mat[, rownames(annotation_col)]
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12,17,22))
View(all_results)
dcast(all_results, Model ~ Dataset + Test)
dcast(all_results, Model ~ Dataset + Test, value.var = Accuracy)
dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy")
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
View(result_mat)
rownames(result_mat) <- result_mat[, Model]
rownames(result_mat) <- result_mat[, "Model"]
View(result_mat)
result_mat <- result_mat[, -1]
View(result_mat)
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
rownames(result_mat) <- result_mat[, "Model"]
result_mat <- result_mat[, -c("Model")]
result_mat <- result_mat[, -"Model"]
result_mat <- result_mat[, -1]
View(result_mat)
tstrsplit(colnames(result_mat), '_')
as.data.table(tstrsplit(colnames(result_mat), '_'))
?as.data.table
?as.data.frame
annotation_col <- as.data.frame(tstrsplit(colnames(result_mat), '_'), col.names = c('Dataset', 'Test'))
annotation_col
rownames(annotation_col) <- colnames(result_mat)
annotation_col
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
result_mat <- result_mat[, rownames(annotation_col)]
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12,17,22))
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
rownames(result_mat) <- result_mat[, "Model"]
result_mat <- result_mat[, -1]
annotation_col <- as.data.frame(tstrsplit(colnames(result_mat), '_'), col.names = c('Dataset', 'Test'))
rownames(annotation_col) <- colnames(result_mat)
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
annotation_col
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
rownames(result_mat) <- result_mat[, "Model"]
result_mat <- as.numeric(result_mat[, -1])
annotation_col <- as.data.frame(tstrsplit(colnames(result_mat), '_'), col.names = c('Dataset', 'Test'))
rownames(annotation_col) <- colnames(result_mat)
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
annotation_col
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
rownames(result_mat) <- result_mat[, "Model"]
result_mat <- as.numeric(result_mat[, -1])
annotation_col <- as.data.frame(tstrsplit(colnames(result_mat), '_'), col.names = c('Dataset', 'Test'))
annotation_col
colnames(result_mat)
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
rownames(result_mat) <- result_mat[, "Model"]
colnames(result_mat)
result_mat <- as.numeric(result_mat[, -1])
colnames(result_mat)
View(result_mat)
result_mat <- as.matrix(dcast(all_results, Model ~ Dataset + Test, value.var = "Accuracy"))
rownames(result_mat) <- result_mat[, "Model"]
result_mat <- result_mat[, -1]
class(result_mat) <- "numeric"
View(result_mat)
annotation_col <- as.data.frame(tstrsplit(colnames(result_mat), '_'), col.names = c('Dataset', 'Test'))
rownames(annotation_col) <- colnames(result_mat)
annotation_col$Dataset <- factor(annotation_col$Dataset,
levels = c('huang', 'guo', 'du', 'pan', 'richoux', 'richoux-regular', 'richoux-strict'))
annotation_col$Test <- factor(annotation_col$Test,
levels = c('Original', 'Rewired', 'both->1', 'both->0', '0->1'))
annotation_col <- annotation_col[order(annotation_col$Test, annotation_col$Dataset), ]
result_mat <- result_mat[, rownames(annotation_col)]
View(result_mat)
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 6,
gaps_col = c(6,12,17,22))
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 5,
gaps_col = c(6,12,17,22))
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 5,
gaps_col = c(6,12,17,22)),
pheatmap(result_mat,
annotation_col = annotation_col,
cluster_rows = FALSE,
cluster_cols = FALSE,
gaps_row = 5,
gaps_col = c(6,12,17,22),
filename = './heatmap_results.png',
width=8,
height=5
)
